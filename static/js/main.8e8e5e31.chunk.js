(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[0],{12:function(e,t,a){e.exports={login__container:"Login_login__container__19eMA",login__action:"Login_login__action__2GObf",login__field:"Login_login__field__2d_QI",login__label:"Login_login__label__ri26K"}},16:function(e,t,a){e.exports={search:"SearchCity_search__Qqzke",citySearch:"SearchCity_citySearch__3Qpr6","city-search__form":"SearchCity_city-search__form__pCIMl",form__input:"SearchCity_form__input__1RHdD","city-search__submit":"SearchCity_city-search__submit__1rCDo",btn:"SearchCity_btn__1ArXF"}},32:function(e,t,a){e.exports={main:"Main_main__3ENKq"}},33:function(e,t,a){e.exports={error:"Error_error__1qu9J"}},4:function(e,t,a){e.exports={btn:"Form_btn__aDnnr",btn_action:"Form_btn_action__126YK",btn__login:"Form_btn__login__1y_cG",form:"Form_form__10jzj",form__label:"Form_form__label__2lJrT",form__field:"Form_form__field__2V_BK",form__box:"Form_form__box__3lwQf",form__action:"Form_form__action__2cZLJ",form__login:"Form_form__login__vRHhd"}},40:function(e,t,a){e.exports=a(69)},6:function(e,t,a){e.exports={content:"Layout_content__1jZLw",footer:"Layout_footer__3aFd5",header:"Layout_header__UwSQx",header__title:"Layout_header__title__3hdp6"}},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),_=a.n(c),o=a(15),l=a.n(o),i=a(31),m=a(9),u=a(6),s=a.n(u),h=function(e){return r.a.createElement("div",{className:s.a.wrapper},e.children)},d=a(32),f=a.n(d),p=function(){return r.a.createElement("header",{className:s.a.header},r.a.createElement("div",{className:"inner"},r.a.createElement("h1",{className:s.a.header__title},"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b \u043d\u0430 5 \u0434\u043d\u0435\u0439")))},E=function(e){return r.a.createElement("div",{className:s.a.content},e.children)},b=function(){return r.a.createElement("div",{className:s.a.footer},r.a.createElement("div",{className:"inner"},r.a.createElement("div",null,"The app is based on the ",r.a.createElement("a",{rel:"nofollow",target:"_black",href:"https://openweathermap.org/"},"openweathermap"),".")))},y=a(16),g=a.n(y),v=a(4),N=a.n(v),S=Object(n.createContext)(),w=a(8),x=a.n(w),C=a(33),j=a.n(C),D=function(e){var t=e.error;return r.a.createElement("div",{className:j.a.error},t)},k=function(){var e=r.a.useState(""),t=Object(m.a)(e,2),a=t[0],n=t[1],c=r.a.useState(""),_=Object(m.a)(c,2),o=_[0],l=_[1],i=r.a.useContext(S).getWeather;return r.a.createElement("div",{className:g.a.citySearch},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(a).then((function(){l(null)})).catch((function(e){l(e.message)}))},className:x()(g.a.citySearch__form,N.a.form)},r.a.createElement("label",{className:N.a.form__label},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"),r.a.createElement("div",{className:N.a.form__box},r.a.createElement("div",{className:N.a.form__field},r.a.createElement("input",{name:"city",type:"text",placeholder:"\u0427\u0435\u043b\u044f\u0431\u0438\u043d\u0441\u043a",value:a,onChange:function(e){return n(e.target.value)}})),r.a.createElement("div",{className:N.a.form__action},r.a.createElement("button",{type:"submit",className:x()(N.a.btn,N.a.btn_action)},"\u043f\u043e\u0438\u0441\u043a"))),null!==o&&r.a.createElement("p",null,r.a.createElement(D,{error:o}))))},L=function(){var e=Object(n.useContext)(S),t=e.city;e.list;return r.a.createElement("div",{className:"inner"},r.a.createElement("span",null,t))},O=a(7),F=a.n(O),I=function(e){var t=e.temp,a=e.date,n=e.icon,c=e.weather,_=new Date(a).toLocaleTimeString([],{day:"numeric",month:"numeric",hour:"2-digit",minute:"2-digit"}),o="http://openweathermap.org/img/wn/"+n+"@2x.png",l=Math.round(t-273);return r.a.createElement("div",{className:F.a.hour},r.a.createElement("div",{className:F.a.hour__date},_),r.a.createElement("div",{className:F.a.hour__temp},l," \xb0"),r.a.createElement("div",{className:F.a.hour__img},r.a.createElement("img",{src:o,alt:""})),r.a.createElement("div",{className:F.a.hour__weather},c))},J=a(13),Q=function(){var e=Object(n.useContext)(S).list;return r.a.createElement("div",{className:F.a.hourList},e.map((function(e,t){return r.a.createElement(J.b,{to:"/hour/"+t},r.a.createElement(I,{k:t,key:e.id,date:e.dt_txt,temp:e.main.temp,icon:e.weather[0].icon,weather:e.weather[0].main}))})))},q=function(){var e=Object(n.useContext)(S);e.list,e.city;return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement(Q,null))},K=function(){return r.a.createElement("div",{className:f.a.main},r.a.createElement(p,null),r.a.createElement(E,null,r.a.createElement(k,null),r.a.createElement(q,null),r.a.createElement(b,null)))},M=a(35),T=a.n(M),B=(a(68),a(1)),z=a(36),P=a(37),W=a(11),A=a(38),G=a(39),H=a(12),R=a.n(H),X=function(e){Object(G.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(z.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state.value;t?fetch("https://api.openweathermap.org/data/2.5/forecast?q=miass&appid=".concat(t,"&units=metric")).then((function(e){return e.json().then((function(t){return{data:t,response:e}}))})).then((function(e){e.response.ok?(console.log(e.response.ok),localStorage.setItem("api_key",t),window.location.reload()):alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043b\u044e\u0447")})).catch((function(e){alert("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043b\u044e\u0447")})):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447!")},n.state={value:""},n.handleChange=n.handleChange.bind(Object(W.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(W.a)(n)),n}return Object(P.a)(a,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:R.a.login__container},r.a.createElement("form",{onSubmit:this.handleSubmit,className:x()(N.a.form,N.a.form__login)},r.a.createElement("label",{className:R.a.login__label},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 api_key \u0438\u043b\u0438 \u044d\u0442\u043e\u0442 \u043a\u043b\u044e\u0447: ","bcf980ddad060235362e000190ac5da3"),r.a.createElement("div",{className:R.a.login__field},r.a.createElement("input",{name:"api_key",type:"text",value:this.state.value,onChange:this.handleChange})),r.a.createElement("div",{className:R.a.login__action},r.a.createElement("button",{type:"submit",className:x()(N.a.btn,N.a.btn__login)},"Login"))))}}]),a}(n.Component);var Y=function(){var e=localStorage.getItem("api_key"),t=r.a.useState([]),a=Object(m.a)(t,2),n=a[0],c=a[1],_=r.a.useState(""),o=Object(m.a)(_,2),u=o[0],s=o[1],d=function(){var t=Object(i.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=3;break}throw c([]),new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434");case 3:return t.abrupt("return",T.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(a,"&appid=").concat(e)).then((function(e){c(e.data.list),s(e.data.city.name)})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(S.Provider,{value:{getWeather:d,city:u,list:n}},r.a.createElement(J.a,null,r.a.createElement(h,null,r.a.createElement(B.c,null,r.a.createElement(B.a,{exact:!0,path:"/",render:function(){return e?r.a.createElement(K,{apiKey:e}):r.a.createElement(X,null)}}),r.a.createElement(B.a,{path:"/hour/:hourId?",render:function(e){var t=e.match.params.hourId;return r.a.createElement(I,{id:t})}})))))};_.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))},7:function(e,t,a){e.exports={list:"Days_list__23TLJ",list__day:"Days_list__day__3YsPe",day:"Days_day__3-95e",day__imgBox:"Days_day__imgBox__3Q_N0",day__date:"Days_day__date__k9tSW",day__temp:"Days_day__temp__3TPSo",hourList:"Days_hourList__1g3pe",hour:"Days_hour__2D2u5",hour__date:"Days_hour__date__2X1uz",hour__temp:"Days_hour__temp__34na4",hour__img:"Days_hour__img__24CsE"}}},[[40,1,2]]]);
//# sourceMappingURL=main.8e8e5e31.chunk.js.map